<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Workflow | Engineering System</title>
<link rel="stylesheet" href="/css/all.min.css">
<link rel="stylesheet" href="/styles/workflow.css">
</head>
<body>
  <div class="form-container">
    <h1><i class="fas fa-project-diagram"></i> Add Workflow</h1>
    
    <form action="/postWorkflow" method="POST" class="form-grid">
      <div class="form-row">
        <label for="WorkflowName">Workflow Name</label>
        <input type="text" name="WorkflowName" id="WorkflowName" required placeholder="Enter workflow name">
      </div>

      <div class="form-row">
        <label for="usrID">Finished by</label>
        <select name="usrID" id="usrID">
          <option value="">-- Select User --</option>
          <% users.forEach(user => { %>
            <option value="<%= user.usrID %>"><%= user.usrDesc %></option>
          <% }) %>
        </select>
      </div>

      <div class="form-row">
        <label for="TaskID">Task</label>
        <select name="TaskID" id="TaskID" required>
          <option value="">-- Select Task --</option>
          <% tasks.forEach(task => { %>
            <option value="<%= task.TaskID %>"><%= task.TaskName %></option>
          <% }) %>
        </select>
      </div>

      <div class="form-row">
        <label for="PkgeID">Package</label>
        <select name="PkgeID" id="PkgeID" required>
          <option value="">-- Select Package --</option>
          <% packages.forEach(pkg => { %>
            <option value="<%= pkg.PkgeID %>"><%= pkg.PkgeName %></option>
          <% }) %>
        </select>
      </div>

      <div class="form-row">
        <label for="TimeStarted">Start Date & Time</label>
        <input type="datetime-local" name="TimeStarted" id="TimeStarted" required>
      </div>

      <div class="form-row">
        <label for="TimeFinished">Completion Date & Time (optional)</label>
        <input type="datetime-local" name="TimeFinished" id="TimeFinished">
      </div>

      <div class="form-actions">
        <button type="reset" class="btn btn-secondary">
          <i class="fas fa-undo"></i> Reset
        </button>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-save"></i> Create Workflow
        </button>
      </div>
    </form>
  </div>

  <script src="/js/assignWorkflow.js"></script>
</body>
</html>